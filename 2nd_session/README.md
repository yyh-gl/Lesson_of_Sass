# CSS設計入門

## 管理・保守の容易化が目的

ただし，CSS設計が必要ない場合も存在（ex.一度しか行われないセールページ）

## 制作する案件ごとに管理・保守の仕方は変わってくるので，そこをしっかりと判断する

* コーポレートサイト

ページ自体は増加．しかし，動的な変更は少ない．

* メディアサイト

ページレイアウトのパターン増加よりも，ページレイアウト内での小規模な改善・改修が発生しやすい

* 管理画面やUI系

UIコンポーネント単位での管理


## CSS保守の問題点

* デザインの再利用手法に関する問題

* クラス命名ルールの問題

* リファクタリングなどにおける依存判断の問題

* CSS設計導入上の問題


## デザインの再利用

* 場所ごとにデザインを変更したい場合に手間がかかるが，デザインの統一が容易

### 変数による共通化

* 【メリット】変数を定義するだけのファイルを作成してimportすることで全ファイルで共通の値を利用可能

	* HTMLで共通のクラスを利用して再利用を行っていると，HTMLの中からそのパーツを検索しないといけないが，文章などもあるのでHTMLからの検索は困難．一方で，本手法はSassファイル内に絶対に変数があるので簡単に見つけられる．

* 【デメリット】変数の使い方は使い手次第のため，本来使用すべき以外のところでの使用が可能

### mixinによる共通化

### 再利用に関する保守ケース

* 統一部分を一括で編集したくなった場合

* 統一していた部分を一部変更したくなった場合

* デザインの変更によってHTMLの編旺が起こるというケースを極力防ぐ（HTMLはデータ構造，CSSはデザイン）


## CSSの命名ルール

### セマンティックなCSS命名

* 見た目をそのままクラス名にすると，デザイン変更時にクラス名まで変更しないといけなくなる

* クラスの命名はコンポーネントベースで行う．または，コンテキストベースで個々に行う．

	* コンポーネント（部品）ベース：ユーザとの関係性を名前にする．再利用がよくある

	* コンテキスト（文脈）ベース：ページにおけるそのパーツの意味を名前にする．再利用はまずない

### OOCSSの考え方

* コンポーネントベース

* 固有のスタイルに関するCSSを作成し，それをHTMLにはめこんでいく考え方

### ECSSの考え方

* コンテキストベース

* CSSにおける{...}内部の重複を許容し，クラス名の乱用を避ける

* デザインが出来上がる前であっても，だいたいの構成が完成していれば，CSSのコーディングが開始できる

* コーポレートサイトでのCSS設計に有効

### レスポンシブのCSS設計

* モバイルファーストの必要性

SPベースのCSS設計を行い，そこからPCではこうしたいという風に設計する

→SPでのCSSでPCで表示し，間延びしてほしくない部分だけPC用のCSSを設計する．

	* メディアクエリ

	メディアクエリをmixinで生成し，各コンポーネントごとに呼び出せる形にする

	* コンテナの利用

	コンテナクラスまたはmixinで各レイアウトを囲むようにすれば，レスポンシブの対応は概ね楽に済む．

	* メディアごとのSCSS記述

	コンポーネントごとに変更するのではなくて，そもそもSPとPCで別ファイルを使用する

### クラス名の付け方

SCSSファイル群の中で，CSSクラスに関する記述がどこに存在するのかわかりやすくしたい

* 子孫セレクタを用いた方法    (ex. 場所名+title ， 場所名+message ， 場所名+header )

	* ECSSに有効

~~~
.pageTop {
    @import "_top.scss"
}

.pageAbout {
    @import "_about.scss"
}
~~~	

* 複雑なクラス名を用いた方法

	* Block（親セレクタ）とElement（子セレクタ）でCSSを記述（BEM流）．間には何かしらの記号2つを重ねる（ex. --）

* BEM

	* [詳細](https://csswizardry.com/2013/01/mindbemding-getting-your-head-round-bem-syntax/)

	* Block -- Element -- Modifierで命名ブロックを定義

~~~
.person {}
.person--hand {}
.person--femail--hand {}
~~~


## 依存判断の問題

CSSに修正を加えた場合にHTMLのどこに影響が出るのかしっかりと把握する


## CSS設計の始め方

* メンバー間で保守・管理に必要なものなのでドキュメント化が必須

* 既存のCSS設計（OOCSSやECSS）の枠組みを流用しながら必要に応じて拡張，解釈変更を進めて，自分のメンバー，プロジェクトに合った設計を行うことが大事（OOCSSとECSSは唯一の答えではない）．

* 原理原則に囚われすぎないように注意


## FLOCCS

* [概念](https://github.com/hiloki/flocss)

* Objectレイヤの3階層は全て使う必要がなく，使うものを選択するところが肝

* BEMまたはSMACCSベースの命名規則を許容（プロジェクトに合わせて決定）

